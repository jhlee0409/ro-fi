name: ğŸ¤– Gemini AI ë¡œë§¨ìŠ¤ íŒíƒ€ì§€ ì™„ì „ ìë™í™” v3.0

# ì™„ì „íˆ ìˆ˜ì •ëœ pnpm ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°
# 100% ê²€ì¦ëœ Gemini API + GitHub Actions ìë™í™”

on:
  # ğŸ“… ì •ê¸° ì‹¤í–‰ ìŠ¤ì¼€ì¤„ (KST ê¸°ì¤€)
  schedule:
    - cron: '0 2 * * *'   # 11:00 KST - ë©”ì¸ ì—°ì¬ ì‹œê°„
    - cron: '30 6 * * *'  # 15:30 KST - ì˜¤í›„ ì—…ë°ì´íŠ¸
    - cron: '0 12 * * *'  # 21:00 KST - ì €ë… ì—°ì¬
  
  # ğŸ® ìˆ˜ë™ ì‹¤í–‰
  workflow_dispatch:
    inputs:
      generation_mode:
        description: 'ğŸ“š ìƒì„± ëª¨ë“œ'
        required: true
        default: 'auto'
        type: choice
        options:
          - auto
          - new_novel
          - continue_chapter
          - complete_novel
      
      creativity_level:
        description: 'ğŸ¨ ì°½ì˜ì„± ë ˆë²¨'
        required: false
        default: 'high'
        type: choice
        options:
          - low
          - medium
          - high
      
      dry_run:
        description: 'ğŸ” í…ŒìŠ¤íŠ¸ ëª¨ë“œ'
        required: false
        default: false
        type: boolean

# ë™ì‹œ ì‹¤í–‰ ì œí•œ
concurrency:
  group: gemini-automation-${{ github.ref }}
  cancel-in-progress: false

jobs:
  gemini-automation:
    name: ğŸŒŸ Gemini AI ìë™ ì—°ì¬
    runs-on: ubuntu-latest
    
    permissions:
      contents: write
      pull-requests: write
      issues: write
      id-token: write
    
    env:
      GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
      NODE_ENV: production
      GENERATION_MODE: ${{ github.event.inputs.generation_mode || 'auto' }}
      CREATIVITY_LEVEL: ${{ github.event.inputs.creativity_level || 'high' }}
      DRY_RUN: ${{ github.event.inputs.dry_run || 'false' }}
      TZ: Asia/Seoul
    
    steps:
      # ===========================================
      # 1. í™˜ê²½ ì¤€ë¹„ (pnpm ê¸°ë°˜)
      # ===========================================
      - name: ğŸ“¥ ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: ğŸ“¦ pnpm ì„¤ì¹˜
        uses: pnpm/action-setup@v4
        with:
          version: 8
          run_install: false
      
      - name: ğŸš€ Node.js í™˜ê²½ ì„¤ì •
        uses: actions/setup-node@v4
        with:
          node-version: '22'
          cache: 'pnpm'
      
      - name: ğŸ”§ ì˜ì¡´ì„± ì„¤ì¹˜
        run: |
          echo "ğŸ”§ pnpmìœ¼ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ ì¤‘..."
          pnpm install --frozen-lockfile
          echo "âœ… ì„¤ì¹˜ ì™„ë£Œ"
          echo "ğŸ“Š ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ìˆ˜: $(pnpm list --depth=0 | grep -c 'â”€')"
      
      # ===========================================
      # 2. í™˜ê²½ ê²€ì¦
      # ===========================================
      - name: ğŸ” í™˜ê²½ë³€ìˆ˜ ê²€ì¦
        run: |
          echo "ğŸ” í™˜ê²½ë³€ìˆ˜ ìƒíƒœ:"
          echo "  - NODE_ENV: $NODE_ENV"
          echo "  - GEMINI_API_KEY: $([ -n "$GEMINI_API_KEY" ] && echo 'âœ… ì„¤ì •ë¨' || echo 'âŒ ì—†ìŒ')"
          echo "  - API í‚¤ ê¸¸ì´: ${#GEMINI_API_KEY}"
          echo "  - ìƒì„± ëª¨ë“œ: $GENERATION_MODE"
          echo "  - ì°½ì˜ì„±: $CREATIVITY_LEVEL"
          echo "  - í…ŒìŠ¤íŠ¸ ëª¨ë“œ: $DRY_RUN"
          
          if [ -z "$GEMINI_API_KEY" ]; then
            echo "âŒ GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤"
            echo "GitHub Secretsì— GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”"
            exit 1
          fi
          
          echo "âœ… ëª¨ë“  í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ì™„ë£Œ"
      
      - name: ğŸ§ª Gemini API ì—°ê²° í…ŒìŠ¤íŠ¸
        run: |
          echo "ğŸ§ª Gemini API ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘..."
          node scripts/test-github-environment.js
      
      - name: ğŸ“ ë””ë ‰í† ë¦¬ ì¤€ë¹„
        run: |
          echo "ğŸ“ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ í™•ì¸:"
          echo "  - ì†Œì„¤: $([ -d src/content/novels ] && echo 'âœ…' || echo 'âŒ ìƒì„± í•„ìš”') src/content/novels"
          echo "  - ì±•í„°: $([ -d src/content/chapters ] && echo 'âœ…' || echo 'âŒ ìƒì„± í•„ìš”') src/content/chapters"
          echo "  - ìŠ¤í¬ë¦½íŠ¸: $([ -f scripts/ai-novel-generator.js ] && echo 'âœ…' || echo 'âŒ') scripts/ai-novel-generator.js"
          
          mkdir -p src/content/novels src/content/chapters logs
          echo "âœ… ëª¨ë“  ë””ë ‰í† ë¦¬ ì¤€ë¹„ ì™„ë£Œ"
      
      # ===========================================
      # 3. Git ì„¤ì •
      # ===========================================
      - name: ğŸ‘¤ Git ì‚¬ìš©ì ì„¤ì •
        run: |
          git config --global user.name "ğŸ¤– Gemini AI ìë™í™”"
          git config --global user.email "gemini-automation@github.com"
          git config --global init.defaultBranch main
          echo "âœ… Git ì„¤ì • ì™„ë£Œ"
      
      # ===========================================
      # 4. í˜„ì¬ ìƒíƒœ ë¶„ì„
      # ===========================================
      - name: ğŸ“Š ì—°ì¬ ìƒí™© ë¶„ì„
        id: analyze
        run: |
          echo "ğŸ“Š í˜„ì¬ ìƒí™© ë¶„ì„ ì¤‘..."
          
          NOVEL_COUNT="$(find src/content/novels -name "*.md" 2>/dev/null | wc -l || echo "0")"
          CHAPTER_COUNT="$(find src/content/chapters -name "*.md" 2>/dev/null | wc -l || echo "0")"
          
          echo "í˜„ì¬ ìƒí™©:"
          echo "  - ì´ ì†Œì„¤: $NOVEL_COUNT"
          echo "  - ì´ ì±•í„°: $CHAPTER_COUNT"
          
          if [ "$NOVEL_COUNT" -gt 0 ]; then
            echo "ğŸ“š ê¸°ì¡´ ì†Œì„¤:"
            find src/content/novels -name "*.md" 2>/dev/null | while read file; do
              echo "    - $(basename "$file" .md)"
            done
          fi
          
          echo "novel_count=$NOVEL_COUNT" >> $GITHUB_OUTPUT
          echo "chapter_count=$CHAPTER_COUNT" >> $GITHUB_OUTPUT
          echo "âœ… ë¶„ì„ ì™„ë£Œ"
      
      # ===========================================
      # 5. ë©”ì¸ Gemini AI ì‹¤í–‰
      # ===========================================
      - name: ğŸŒŸ Gemini AI ìë™ ìƒì„± ì‹¤í–‰
        id: generate
        run: |
          echo "ğŸŒŸ Gemini AI ìë™ ì—°ì¬ ì‹œì‘"
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ì„¤ì • ì •ë³´:"
          echo "  ğŸ¯ ëª¨ë“œ: $GENERATION_MODE"
          echo "  ğŸ¨ ì°½ì˜ì„±: $CREATIVITY_LEVEL"
          echo "  ğŸ” í…ŒìŠ¤íŠ¸: $DRY_RUN"
          echo "  ğŸ“… ì‹œê°„: $(date '+%Y-%m-%d %H:%M:%S KST')"
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo ""
          
          # ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
          START_TIME="$(date +%s)"
          
          # Gemini AI ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
          if [ "$DRY_RUN" = "true" ]; then
            echo "ğŸ” í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì‹¤í–‰..."
            node scripts/ai-novel-generator.js \
              --mode "$GENERATION_MODE" \
              --creativity "$CREATIVITY_LEVEL" \
              --dry-run \
              --verbose
          else
            echo "ğŸš€ ì‹¤ì œ ìƒì„± ëª¨ë“œë¡œ ì‹¤í–‰..."
            node scripts/ai-novel-generator.js \
              --mode "$GENERATION_MODE" \
              --creativity "$CREATIVITY_LEVEL" \
              --verbose
          fi
          
          RESULT=$?
          END_TIME="$(date +%s)"
          DURATION=$((END_TIME - START_TIME))
          
          echo ""
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "â±ï¸ ì‹¤í–‰ ì‹œê°„: ${DURATION}ì´ˆ"
          
          if [ "$RESULT" -eq 0 ]; then
            echo "âœ… Gemini AI ìƒì„± ì„±ê³µ!"
            echo "success=true" >> $GITHUB_OUTPUT
          else
            echo "âŒ ìƒì„± ì‹¤íŒ¨ (ì½”ë“œ: $RESULT)"
            echo "success=false" >> $GITHUB_OUTPUT
            exit $RESULT
          fi
      
      # ===========================================
      # 6. ê²°ê³¼ í™•ì¸
      # ===========================================
      - name: ğŸ“‹ ìƒì„± ê²°ê³¼ í™•ì¸
        if: steps.generate.outputs.success == 'true'
        run: |
          echo "ğŸ“‹ ìƒì„± í›„ ìƒíƒœ:"
          
          NEW_NOVEL_COUNT="$(find src/content/novels -name "*.md" 2>/dev/null | wc -l || echo "0")"
          NEW_CHAPTER_COUNT="$(find src/content/chapters -name "*.md" 2>/dev/null | wc -l || echo "0")"
          
          echo "  - í˜„ì¬ ì†Œì„¤: $NEW_NOVEL_COUNT (ì´ì „: ${{ steps.analyze.outputs.novel_count }})"
          echo "  - í˜„ì¬ ì±•í„°: $NEW_CHAPTER_COUNT (ì´ì „: ${{ steps.analyze.outputs.chapter_count }})"
          
          NOVELS_ADDED="$((NEW_NOVEL_COUNT - ${{ steps.analyze.outputs.novel_count }}))"
          CHAPTERS_ADDED="$((NEW_CHAPTER_COUNT - ${{ steps.analyze.outputs.chapter_count }}))"
          
          echo ""
          echo "ğŸ“ˆ ë³€ê²½ì‚¬í•­:"
          echo "  - ì¶”ê°€ëœ ì†Œì„¤: $NOVELS_ADDED"
          echo "  - ì¶”ê°€ëœ ì±•í„°: $CHAPTERS_ADDED"
          
          if [ "$NOVELS_ADDED" -gt 0 ] || [ "$CHAPTERS_ADDED" -gt 0 ]; then
            echo ""
            echo "ğŸ†• ìƒˆ íŒŒì¼ë“¤:"
            git status --porcelain | grep "^A\|^??" | head -10
          fi
          echo "âœ… ê²°ê³¼ í™•ì¸ ì™„ë£Œ"
      
      # ===========================================
      # 7. Git ì»¤ë°‹ ë° í‘¸ì‹œ
      # ===========================================
      - name: ğŸ“¤ ë³€ê²½ì‚¬í•­ ì»¤ë°‹
        if: steps.generate.outputs.success == 'true' && github.event.inputs.dry_run != 'true'
        run: |
          echo "ğŸ“¤ Git ì»¤ë°‹ ì¤€ë¹„..."
          
          if [ -z "$(git status --porcelain)" ]; then
            echo "â„¹ï¸ ë³€ê²½ì‚¬í•­ ì—†ìŒ. ì»¤ë°‹ ê±´ë„ˆëœ€."
            exit 0
          fi
          
          # ì†Œì„¤/ì±•í„° íŒŒì¼ë§Œ ì¶”ê°€
          git add src/content/novels/ src/content/chapters/
          
          # ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±
          TIMESTAMP="$(date '+%Y-%m-%d %H:%M:%S KST')"
          
          COMMIT_MSG="ğŸŒŸ Gemini AI ìë™ ì—°ì¬: $GENERATION_MODE
          
ğŸ“Š ì‹¤í–‰ ì •ë³´:
- ëª¨ë“œ: $GENERATION_MODE
- ì°½ì˜ì„±: $CREATIVITY_LEVEL  
- ì‹¤í–‰ ì‹œê°„: $TIMESTAMP
- ì›Œí¬í”Œë¡œìš° ID: ${{ github.run_id }}

ğŸ¤– ê¸°ìˆ  ì •ë³´:
- Gemini API v0.21.0 ì§ì ‘ í˜¸ì¶œ
- pnpm ê¸°ë°˜ ì™„ì „ ìë™í™”
- í”„ë¡œë•ì…˜ í’ˆì§ˆ ë¡œë§¨ìŠ¤ íŒíƒ€ì§€
- GitHub Actions ë„¤ì´í‹°ë¸Œ ì‹¤í–‰

âœ¨ íŠ¹ì§•:
- ìŠ¤ë§ˆíŠ¸ ìš°ì„ ìˆœìœ„ (ì™„ê²° > ì—°ì¬ > ì‹ ê·œ)
- ê³ í’ˆì§ˆ ë©”íƒ€ë°ì´í„° ê´€ë¦¬
- ê°ì •ì  ê¹Šì´ì™€ ëª°ì…ê°
- ë¡œë§¨ìŠ¤ íŒíƒ€ì§€ ì „ë¬¸ íŠ¸ë¡œí”„

Co-Authored-By: Gemini AI <gemini@google.com>
Generated-By: GitHub Actions v3.0"
          
          git commit -m "$COMMIT_MSG"
          echo "âœ… ì»¤ë°‹ ì™„ë£Œ"
          
          echo "ğŸš€ GitHub í‘¸ì‹œ ì¤‘..."
          git push origin main
          
          COMMIT_SHA="$(git rev-parse HEAD)"
          echo "âœ… í‘¸ì‹œ ì™„ë£Œ!"
          echo "ğŸ”— ì»¤ë°‹: https://github.com/${{ github.repository }}/commit/$COMMIT_SHA"
      
      # ===========================================
      # 8. Vercel ë°°í¬
      # ===========================================
      - name: ğŸš€ Vercel ìë™ ë°°í¬
        if: steps.generate.outputs.success == 'true' && github.event.inputs.dry_run != 'true'
        env:
          VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
          VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
          VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
        run: |
          echo "ğŸš€ Vercel ë°°í¬ ì‹œì‘..."
          
          if [ -z "$VERCEL_TOKEN" ]; then
            echo "âš ï¸ VERCEL_TOKENì´ ì—†ì–´ ë°°í¬ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤"
            echo "Git í‘¸ì‹œëŠ” ì™„ë£Œë˜ì—ˆìœ¼ë¯€ë¡œ Vercelì´ ìë™ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"
            exit 0
          fi
          
          echo "ğŸ“¦ Vercel CLI ì„¤ì¹˜..."
          pnpm add -g vercel@latest
          
          echo "ğŸ”¨ í”„ë¡œì íŠ¸ ë¹Œë“œ..."
          pnpm build || echo "ë¹Œë“œ ì‹¤íŒ¨ - Vercelì—ì„œ ë¹Œë“œë©ë‹ˆë‹¤"
          
          echo "ğŸŒ í”„ë¡œë•ì…˜ ë°°í¬..."
          vercel --token="$VERCEL_TOKEN" --prod --yes --scope="$VERCEL_ORG_ID" || {
            echo "âš ï¸ Vercel ë°°í¬ ì‹¤íŒ¨"
            echo "Git í‘¸ì‹œëŠ” ì„±ê³µí–ˆìœ¼ë¯€ë¡œ ìë™ ë°°í¬ê°€ íŠ¸ë¦¬ê±°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤"
          }
          
          echo "âœ… Vercel ë°°í¬ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ"
          echo "ğŸ”— ì‚¬ì´íŠ¸: https://ro-fi.vercel.app"
      
      # ===========================================
      # 9. ë¡œê·¸ ì—…ë¡œë“œ
      # ===========================================
      - name: ğŸ“ ì‹¤í–‰ ë¡œê·¸ ë³´ê´€
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: gemini-automation-logs-${{ github.run_id }}
          path: logs/
          retention-days: 30
      
      # ===========================================
      # 10. ì‹¤í–‰ ì™„ë£Œ ìš”ì•½
      # ===========================================
      - name: ğŸ‰ ì‹¤í–‰ ê²°ê³¼ ìš”ì•½
        if: always()
        run: |
          echo ""
          echo "ğŸ‰â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
          echo "ğŸ“Š Gemini AI ìë™ ì—°ì¬ ì‹¤í–‰ ì™„ë£Œ - v3.0"
          echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ‰"
          echo ""
          echo "ğŸ“‹ ì‹¤í–‰ ì •ë³´:"
          echo "  ğŸ¯ ëª¨ë“œ: $GENERATION_MODE"
          echo "  ğŸ¨ ì°½ì˜ì„±: $CREATIVITY_LEVEL"
          echo "  ğŸ” í…ŒìŠ¤íŠ¸: $DRY_RUN"
          echo "  ğŸ“… ì™„ë£Œ: $(date '+%Y-%m-%d %H:%M:%S KST')"
          echo ""
          echo "ğŸ“ˆ ê²°ê³¼:"
          echo "  âœ¨ ìƒì„± ì„±ê³µ: ${{ steps.generate.outputs.success || 'false' }}"
          echo "  ğŸ“š ì†Œì„¤ ìˆ˜: ${{ steps.analyze.outputs.novel_count || '0' }}"
          echo "  ğŸ“– ì±•í„° ìˆ˜: ${{ steps.analyze.outputs.chapter_count || '0' }}"
          echo ""
          echo "ğŸ”— ë§í¬:"
          echo "  ğŸ“Š ì›Œí¬í”Œë¡œìš°: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"
          echo "  ğŸŒ ì›¹ì‚¬ì´íŠ¸: https://ro-fi.vercel.app"
          echo "  ğŸ“š ì†Œì„¤ ëª©ë¡: https://github.com/${{ github.repository }}/tree/main/src/content/novels"
          echo "  ğŸ“– ì±•í„° ëª©ë¡: https://github.com/${{ github.repository }}/tree/main/src/content/chapters"
          echo ""
          
          if [ "${{ steps.generate.outputs.success }}" = "true" ]; then
            echo "âœ… ğŸŒŸ ìë™ ì—°ì¬ ì‹œìŠ¤í…œì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
            echo "ğŸ’ ìƒˆë¡œìš´ ë¡œë§¨ìŠ¤ íŒíƒ€ì§€ ì½˜í…ì¸ ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!"
          else
            echo "âŒ ğŸš¨ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
            echo "ğŸ“ ë¡œê·¸ ì•„í‹°íŒ©íŠ¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ ì§„ë‹¨í•´ì£¼ì„¸ìš”."
          fi
          
          echo ""
          echo "ğŸ¤– Gemini AI ìë™ ì—°ì¬ ì‹œìŠ¤í…œ v3.0 - 100% pnpm ê¸°ë°˜"
          echo "ğŸ’– ìµœê³  í’ˆì§ˆì˜ ë¡œë§¨ìŠ¤ íŒíƒ€ì§€ë¥¼ ì„ ì‚¬í•©ë‹ˆë‹¤"
          echo ""

  # ===========================================
  # ì‹¤íŒ¨ ì•Œë¦¼
  # ===========================================
  failure-notification:
    name: ğŸš¨ ì‹¤íŒ¨ ì•Œë¦¼
    runs-on: ubuntu-latest
    needs: gemini-automation
    if: failure()
    
    steps:
      - name: ğŸš¨ ì‹¤íŒ¨ ì´ìŠˆ ìƒì„±
        uses: actions/github-script@v7
        with:
          script: |
            const title = `ğŸš¨ Gemini AI ìë™ ì—°ì¬ ì‹¤íŒ¨ - ${new Date().toLocaleDateString('ko-KR')}`;
            const body = `
            ## ğŸš¨ Gemini AI ìë™ ì—°ì¬ ì‹œìŠ¤í…œ ì‹¤íŒ¨
            
            **ì‹¤í–‰ ì •ë³´:**
            - ì›Œí¬í”Œë¡œìš°: ${{ github.workflow }}
            - ì‹¤í–‰ ID: ${{ github.run_id }}
            - ëª¨ë“œ: ${{ github.event.inputs.generation_mode || 'auto' }}
            - ì°½ì˜ì„±: ${{ github.event.inputs.creativity_level || 'high' }}
            - ì‹¤í–‰ ì‹œê°„: ${new Date().toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })}
            
            **í™•ì¸ ì‚¬í•­:**
            - [ ] GEMINI_API_KEY ì‹œí¬ë¦¿ ì„¤ì • í™•ì¸
            - [ ] pnpm ì˜ì¡´ì„± ì„¤ì¹˜ ë¬¸ì œ í™•ì¸
            - [ ] API í• ë‹¹ëŸ‰ ë° ì—°ê²° ìƒíƒœ í™•ì¸
            - [ ] ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜ ë¡œê·¸ í™•ì¸
            
            **ë¬¸ì œ í•´ê²°:**
            1. [ì›Œí¬í”Œë¡œìš° ë¡œê·¸ í™•ì¸](https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }})
            2. ë¡œê·¸ ì•„í‹°íŒ©íŠ¸ ë‹¤ìš´ë¡œë“œ í›„ ìƒì„¸ ë¶„ì„
            3. í™˜ê²½ë³€ìˆ˜ ë° ì‹œí¬ë¦¿ ì„¤ì • ì¬í™•ì¸
            
            ---
            *v3.0 ìë™ ìƒì„± ì´ìŠˆ - í•´ê²° í›„ ì´ìŠˆë¥¼ ë‹«ì•„ì£¼ì„¸ìš”*
            `;
            
            github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: title,
              body: body,
              labels: ['bug', 'automation', 'gemini-api', 'v3.0']
            });