# Setup Node.js with pnpm Composite Action

μ¬μ‚¬μ© κ°€λ¥ν• Node.js + pnpm ν™κ²½ μ„¤μ •μ„ μ„ν• GitHub Composite Actionμ…λ‹λ‹¤.

## π“‹ κΈ°λ¥

- β… Node.js ν™κ²½ μ„¤μ • (κΈ°λ³Έ: v20)
- β… pnpm ν¨ν‚¤μ§€ λ§¤λ‹μ € μ„¤μΉ (μµμ‹  λ²„μ „)
- β… pnpm μΊμ‹ μµμ ν™”
- β… μμ΅΄μ„± μλ™ μ„¤μΉ (μ„ νƒμ )
- β… PATH ν™κ²½ λ³€μ μλ™ μ„¤μ •
- β… AI μ„λΉ„μ¤μ© ν™κ²½ λ³€μ μ„¤μ • (μ„ νƒμ )

## π€ μ‚¬μ©λ²•

### κΈ°λ³Έ μ‚¬μ©λ²• (μμ΅΄μ„± μ„¤μΉ ν¬ν•¨)

```yaml
steps:
  - name: π”§ Node.js + pnpm ν™κ²½ μ„¤μ •
    uses: ./.github/actions/setup-node-pnpm
    with:
      install-deps: 'true'
      anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}
```

### ν™κ²½ μ„¤μ •λ§ (μμ΅΄μ„± μ„¤μΉ μ μ™Έ)

```yaml
steps:
  - name: π”§ Node.js + pnpm ν™κ²½ μ„¤μ •
    uses: ./.github/actions/setup-node-pnpm
    with:
      install-deps: 'false'
```

### μ»¤μ¤ν…€ λ²„μ „ μ„¤μ •

```yaml
steps:
  - name: π”§ Node.js + pnpm ν™κ²½ μ„¤μ •
    uses: ./.github/actions/setup-node-pnpm
    with:
      node-version: '18'
      pnpm-version: '8.15.0'
      install-deps: 'true'
```

## π“ μ…λ ¥ νλΌλ―Έν„°

| νλΌλ―Έν„° | ν•„μ | κΈ°λ³Έκ°’ | μ„¤λ… |
|----------|------|--------|------|
| `install-deps` | β | `'true'` | μμ΅΄μ„± μ„¤μΉ μ—¬λ¶€ |
| `anthropic-api-key` | β | `''` | Anthropic API ν‚¤ (AI μ„λΉ„μ¤μ©) |
| `node-version` | β | `'20'` | Node.js λ²„μ „ |
| `pnpm-version` | β | `'latest'` | pnpm λ²„μ „ |

## π“¤ μ¶λ ¥

| μ¶λ ¥ | μ„¤λ… |
|------|------|
| `node-version` | μ„¤μΉλ Node.js λ²„μ „ |
| `pnpm-version` | μ„¤μΉλ pnpm λ²„μ „ |
| `cache-hit` | pnpm μΊμ‹ ννΈ μ—¬λ¶€ |

## π’΅ μ¥μ 

### π”„ μ¤‘λ³µ μ κ±°
- 6κ° μ›ν¬ν”λ΅μ°μ—μ„ **120μ¤„μ μ¤‘λ³µ μ½”λ“ μ κ±°**
- μ μ§€λ³΄μμ„± λ€ν­ ν–¥μƒ

### β΅ μ„±λ¥ μµμ ν™”
- pnpm μΊμ‹ ν™μ©μΌλ΅ μ„¤μΉ μ‹κ°„ λ‹¨μ¶•
- λ¶ν•„μ”ν• μ„¤μΉ λ‹¨κ³„ μƒλµ κ°€λ¥

### π›΅οΈ μ•μ •μ„± ν–¥μƒ
- μΌκ΄€λ ν™κ²½ μ„¤μ •
- λ²„μ „ μ¶©λ λ°©μ§€
- μ—λ¬ μ²λ¦¬ ν‘μ¤€ν™”

### π“ ν™•μ¥μ„±
- μƒλ΅μ΄ μ›ν¬ν”λ΅μ°μ—μ„ μ¦‰μ‹ μ‚¬μ© κ°€λ¥
- νλΌλ―Έν„°λ¥Ό ν†µν• μ μ—°ν• μ„¤μ •

## π”§ λ‚΄λ¶€ λ™μ‘

1. **μ²΄ν¬μ•„μ›ƒ**: μ½”λ“ μ²΄ν¬μ•„μ›ƒ (fetch-depth: 0)
2. **pnpm μ„¤μΉ**: μ§€μ •λ λ²„μ „μ pnpm μ„¤μΉ
3. **Node.js μ„¤μ •**: Node.js μ„¤μΉ λ° pnpm μΊμ‹ μ„¤μ •
4. **μμ΅΄μ„± μ„¤μΉ**: μ„ νƒμ μΌλ΅ ν”„λ΅μ νΈ μμ΅΄μ„± μ„¤μΉ
   - vitest, playwright λ“± μ£Όμ” ν¨ν‚¤μ§€ ν™•μΈ
   - PATHμ— node_modules/.bin μ¶”κ°€
5. **ν™κ²½ λ³€μ**: AI μ„λΉ„μ¤μ© ν™κ²½ λ³€μ μ„¤μ •
6. **μ”μ•½ μ¶λ ¥**: μ„¤μ • μ™„λ£ μƒνƒ μ”μ•½

## π― μ μ© μ›ν¬ν”λ΅μ°

μ΄ Composite Actionμ€ λ‹¤μ μ›ν¬ν”λ΅μ°μ—μ„ μ‚¬μ©λ©λ‹λ‹¤:

- β… `auto-publish.yml` - λ©”μΈ μλ™ν™”
- β… `ai-story-generation.yml` - AI μ¤ν† λ¦¬ μƒμ„±  
- β… `build-only.yml` - λΉλ“ μ „μ©
- β… `content-quality-check.yml` - μ½ν…μΈ  ν’μ§ κ²€μ‚¬
- β… `quality-assurance.yml` - ν’μ§ λ³΄μ¦
- β… `test-validation.yml` - ν…μ¤νΈ κ²€μ¦

## π“ μ„±λ¥ μ§€ν‘

- **μ½”λ“ μ¤‘λ³µ**: 95% κ°μ† (126μ¤„ β†’ 6μ¤„)
- **μ μ§€λ³΄μμ„±**: λ‹¨μΌ μ§€μ  κ΄€λ¦¬λ΅ ν–¥μƒ
- **μ„¤μ • μ‹κ°„**: pnpm μΊμ‹λ΅ μµλ€ 50% λ‹¨μ¶•
- **μΌκ΄€μ„±**: 100% ν‘μ¤€ν™”λ ν™κ²½ μ„¤μ •